<div class="container m-5">
    <h1 class="text-success mb-5 mx-5">Create a collection :</h1>
    <form [formGroup]="createCollectionForm" (submit)="onSubmit()" class="mx-5">
        <div class="form-group mb-3 col-sm-8">
            <label class="form-label text-success" for="title">Title :</label>
            <input formControlName="title" id="title" name="title" type="text" class="form-control"
                placeholder="Title of Collection" aria-label="title">
            <!-- error message when the input is clicked but value isn't typed -->
            @if(createCollectionForm.get('title')?.hasError('required') && createCollectionForm.get('title')?.touched){
            <span class="text-danger fst-italic me-1">Title is </span><span
                class="text-danger fw-bold me-3">required.</span>
            }
            @if(createCollectionForm.get('title')?.hasError('pattern') && createCollectionForm.get('title')?.touched){
            <span class="text-danger fst-italic me-1">Title accepted characters: </span><span
                class="text-danger fw-bold me-3">{{
                patternDisplay(createCollectionForm.get('title')?.errors?.['pattern'].requiredPattern) }}
            </span>
            }
            <!-- error message when the input is less than 3 characters -->
            @if(createCollectionForm.get('title')?.hasError('minlength') && createCollectionForm.get('title')?.touched){
            <span class="text-danger fst-italic me-1">Title must be </span><span
                class="text-danger fw-bold me-1">minimum
                {{ createCollectionForm.get('title')?.errors?.['minlength'].requiredLength }} characters.</span>
            }
        </div>
        <div class="form-group mb-3 col-sm-8">
            <label class="form-label text-success" for="description">Description :</label>
            <textarea formControlName="description" id="description" name="description" type="text" class="form-control"
                placeholder="Short Collection description ..." aria-label="description"> </textarea>
            <!-- error message when the input is clicked but value isn't typed -->
            @if(createCollectionForm.get('description')?.hasError('required') &&
            createCollectionForm.get('description')?.touched){
            <span class="text-danger fst-italic me-1">Description is </span><span
                class="text-danger fw-bold me-3">required.</span>
            }
            @if(createCollectionForm.get('description')?.hasError('pattern') &&
            createCollectionForm.get('description')?.touched){
            <span class="text-danger fst-italic me-1">Description accepted characters: </span><span
                class="text-danger fw-bold me-3">{{
                patternDisplay(createCollectionForm.get('description')?.errors?.['pattern'].requiredPattern) }}
            </span>
            }
        </div>
        <button type="submit" class="btn btn-success rounded rounded-3 mt-3" [disabled]="!createCollectionForm.valid">
            Create collection!
        </button>
    </form>
    @if(showSuccessMessage){
    <div class="my-5">
        <div class="alert alert-success alert-dismissible mb-5 mx-auto" role="alert" style="width:fit-content">
            <h4 class="text-success mb-1">Collection created</h4>
            <div class="mb-2"><i class="bi bi-check-circle-fill mx-2"></i>Your collection was successfully created!
            </div>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    </div>
    }
</div>